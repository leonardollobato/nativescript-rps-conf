"use strict";
var session_view_model_1 = require("../session-page/session-view-model");
var fakeDataServiceModule = require("../../service/fake-data-service");
var vm;
var page;
function pageNavigatingTo(args) {
    page = args.object;
    var firstSession = loadFirstSessionViaFaker();
    vm = new session_view_model_1.SessionViewModel(firstSession);
    page.bindingContext = vm;
}
exports.pageNavigatingTo = pageNavigatingTo;
function loadFirstSessionViaFaker() {
    var speakers = fakeDataServiceModule.generateSpeakers();
    var roomInfos = fakeDataServiceModule.generateRoomInfos();
    var sessions = fakeDataServiceModule.generateSessions(speakers, roomInfos);
    var nonBreakSessions = sessions.filter(function (s) {
        return !s.isBreak && s.speakers.length > 0;
    });
    return nonBreakSessions[0];
}
exports.loadFirstSessionViaFaker = loadFirstSessionViaFaker;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Vzc2lvbi1wYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2Vzc2lvbi1wYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSx5RUFBc0U7QUFFdEUsdUVBQXlFO0FBRXpFLElBQUksRUFBb0IsQ0FBQztBQUN6QixJQUFJLElBQVUsQ0FBQztBQUVmLDBCQUFpQyxJQUFJO0lBQ2pDLElBQUksR0FBVSxJQUFJLENBQUMsTUFBTSxDQUFDO0lBRTFCLElBQUksWUFBWSxHQUFHLHdCQUF3QixFQUFFLENBQUM7SUFDOUMsRUFBRSxHQUFHLElBQUkscUNBQWdCLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDeEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUM7QUFDN0IsQ0FBQztBQU5ELDRDQU1DO0FBRUQ7SUFDSSxJQUFJLFFBQVEsR0FBRyxxQkFBcUIsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQ3hELElBQUksU0FBUyxHQUFHLHFCQUFxQixDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDMUQsSUFBSSxRQUFRLEdBQVEscUJBQXFCLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ2hGLElBQUksZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFBLENBQUM7UUFDcEMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDL0MsQ0FBQyxDQUFDLENBQUM7SUFDSCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDL0IsQ0FBQztBQVJELDREQVFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZSB9IGZyb20gJ3VpL3BhZ2UnO1xuaW1wb3J0IHsgU2Vzc2lvblZpZXdNb2RlbCB9IGZyb20gJy4uL3Nlc3Npb24tcGFnZS9zZXNzaW9uLXZpZXctbW9kZWwnO1xuXG5pbXBvcnQgKiBhcyBmYWtlRGF0YVNlcnZpY2VNb2R1bGUgZnJvbSAnLi4vLi4vc2VydmljZS9mYWtlLWRhdGEtc2VydmljZSc7XG5cbnZhciB2bTogU2Vzc2lvblZpZXdNb2RlbDtcbnZhciBwYWdlOiBQYWdlO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFnZU5hdmlnYXRpbmdUbyhhcmdzKXtcbiAgICBwYWdlID0gPFBhZ2U+IGFyZ3Mub2JqZWN0O1xuXG4gICAgdmFyIGZpcnN0U2Vzc2lvbiA9IGxvYWRGaXJzdFNlc3Npb25WaWFGYWtlcigpO1xuICAgIHZtID0gbmV3IFNlc3Npb25WaWV3TW9kZWwoZmlyc3RTZXNzaW9uKTtcbiAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gdm07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkRmlyc3RTZXNzaW9uVmlhRmFrZXI8VD4oKXtcbiAgICBsZXQgc3BlYWtlcnMgPSBmYWtlRGF0YVNlcnZpY2VNb2R1bGUuZ2VuZXJhdGVTcGVha2VycygpO1xuICAgIGxldCByb29tSW5mb3MgPSBmYWtlRGF0YVNlcnZpY2VNb2R1bGUuZ2VuZXJhdGVSb29tSW5mb3MoKTtcbiAgICBsZXQgc2Vzc2lvbnMgPSA8YW55PmZha2VEYXRhU2VydmljZU1vZHVsZS5nZW5lcmF0ZVNlc3Npb25zKHNwZWFrZXJzLCByb29tSW5mb3MpO1xuICAgIHZhciBub25CcmVha1Nlc3Npb25zID0gc2Vzc2lvbnMuZmlsdGVyKHMgPT4ge1xuICAgICAgICByZXR1cm4gIXMuaXNCcmVhayAmJiBzLnNwZWFrZXJzLmxlbmd0aCA+IDA7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5vbkJyZWFrU2Vzc2lvbnNbMF07XG59Il19